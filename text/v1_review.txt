1.сертификаты должны находится внутри переменных. делать все эти шаги с загрузкой временных файлов и чтением оттуда не надо
2.Все файлы, генерируемые с помощью ansible должны содержать {{ansible_managed}}
3.Темплейты/файлы в роли нужно располагать в той же структуре директорий, в которой они будут на сервере назначения, и с именем имя_оригинального_файла.j2 , т.е. темплейт файла /tmp/test.txt должен оказаться в templates/tmp/test.txt.j2 .
4.Переменные должны быть отсортированы в алфавитном порядке.
5.Переменные должны именоваться имяроли_имяпеременной. Имя переменной должно отражать ее назначение.
6.Все переменные должны быть описаны в README.MD иметь значения по умолчанию:

  - Переменные предназначенные для пользователя и могут быть изменены через playbook должны размещаться в  defaults/main.yml.
  - Внутренние переменные роли в vars/main.yml.

Обратите внимание, что переменные находящиеся в vars/main.yml не могут быть изменены из playbook.

7.Таски роли лучше разделять по их логике в разные файлы, например, управление конфигурацией config.yml и управление пакетами в install.yml, которые уже подключаются в main.yml .
8.Роль должна иметь тэг  с ее именем, также если есть config.yml  и  install.yml, должны стоять тэги config и install соответственно.
9.зачем устанавливается traceroute?
10.Роль должна выполняться пользователем без прав администратора 
11.Лучше фиксировать версию пакета, чтобы избежать неожиданного поведения при установке неожиданно новой версии
12.Записи типа:

```
  template src=tmp/test.txt.j2 dest=/tmp/test.txt
```
рекомендуется выполнять в виде

```
  template src="{{ item }}.j2" dest="/{{ item }}"
  with_items:
    - "tmp/test.txt"
```
Даже если элемент всего один. Это минимизирует вероятность ошибок в src\dest, а так же зачастую упрощает чтение роли.
